<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Task_3</title>
  <style>
    :root {
      --primary-color: #4e89ae;
      --secondary-color: #43658b;
      --accent-color: #f1f6f9;
      --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      --highlight-color: #ff6b6b;
      --quiz-bg: #e8f0fe;
      --quiz-border: #4e89ae;
      --quiz-question-color: #2a466e;
      --quiz-option-hover: #d0e1fd;
      --quiz-option-selected: #9fc5f8;
      --btn-hover-dark: #2e5a7c;
      --weather-bg: #a9d6e5;
      --text-dark: #222;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--font-main);
      color: var(--text-dark);
      background-color: var(--accent-color);
      line-height: 1.6;
    }

    header {
      background: var(--primary-color);
      color: #fff;
      padding: 30px 20px;
      text-align: center;
    }

    .hero {
      /* Removed background image */
      background-color: var(--primary-color);
      color: white;
      text-align: center;
      padding: 120px 20px;
    }

    .hero h1 {
      font-size: 2.8rem;
      margin-bottom: 15px;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
    }

    .cta-btn {
      padding: 12px 25px;
      background: var(--highlight-color);
      color: white;
      border: none;
      border-radius: 25px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
      margin: 10px;
      box-shadow: 0 3px 8px rgba(255,107,107,0.6);
      font-weight: 600;
    }

    .cta-btn:hover {
      background: #ff4c4c;
      box-shadow: 0 4px 15px rgba(255,76,76,0.8);
    }

    .features {
      display: flex;
      flex-wrap: wrap;
      padding: 60px 20px;
      justify-content: space-around;
      gap: 30px;
      background: white;
    }

    .feature {
      background: var(--accent-color);
      padding: 25px;
      border-radius: 12px;
      flex: 1 1 300px;
      max-width: 320px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .feature:hover {
      transform: translateY(-8px);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
    }

    .feature h3 {
      color: var(--secondary-color);
      margin-bottom: 10px;
      font-size: 1.4rem;
    }

    .carousel, .quiz, .api-fetch, .weather-fetch {
      padding: 50px 20px;
      background: white;
      text-align: center;
      display: none;
      border-radius: 10px;
      max-width: 700px;
      margin: 40px auto;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .carousel img {
      width: 400px;
      height: 550px;
      object-fit: cover;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s ease-in-out;
    }

    .carousel button, .quiz-container button, .api-fetch button, .weather-fetch button {
      margin: 20px 10px;
      padding: 10px 20px;
      border: none;
      background-color: var(--primary-color);
      color: white;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 8px;
      font-weight: 600;
      box-shadow: 0 3px 8px rgba(78,137,174,0.7);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }

    .carousel button:hover, .quiz-container button:hover, .api-fetch button:hover, .weather-fetch button:hover {
      background-color: var(--btn-hover-dark);
      box-shadow: 0 4px 15px rgba(46,90,124,0.8);
    }

    .quiz-container {
      max-width: 600px;
      margin: auto;
      text-align: left;
      background: var(--quiz-bg);
      padding: 20px 30px;
      border-radius: 12px;
      border: 2px solid var(--quiz-border);
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    .question {
      margin-bottom: 20px;
      padding: 15px;
      background: white;
      border-radius: 8px;
      border: 1.5px solid var(--quiz-border);
      transition: background-color 0.3s ease;
    }

    .question h4 {
      margin-bottom: 12px;
      color: var(--quiz-question-color);
      font-weight: 700;
    }

    .question label {
      cursor: pointer;
      display: block;
      padding: 8px 10px;
      border-radius: 6px;
      transition: background-color 0.25s ease;
      user-select: none;
      margin-bottom: 6px;
      border: 1px solid transparent;
    }

    /* Highlight option on hover */
    .question label:hover {
      background-color: var(--quiz-option-hover);
    }

    /* Color selected option label */
    input[type="radio"]:checked + label {
      background-color: var(--quiz-option-selected);
      border-color: var(--primary-color);
      font-weight: 700;
      color: var(--primary-color);
    }

    /* Hide native radio */
    input[type="radio"] {
      display: none;
    }

    /* Custom radio label with a dot */
    .question label::before {
      content: "";
      display: inline-block;
      width: 18px;
      height: 18px;
      margin-right: 10px;
      border-radius: 50%;
      border: 2px solid var(--primary-color);
      vertical-align: middle;
      transition: background-color 0.3s ease;
    }

    input[type="radio"]:checked + label::before {
      background-color: var(--primary-color);
    }

    /* Joke style */
    .api-fetch p {
      font-size: 1.2rem;
      margin-bottom: 10px;
      min-height: 60px;
    }

    /* Weather styling */
    .weather-fetch {
      background: var(--weather-bg);
      color: var(--text-dark);
      font-weight: 600;
    }
    .weather-fetch h2 {
      color: var(--secondary-color);
      margin-bottom: 15px;
    }
    .weather-info {
      font-size: 1.2rem;
      margin-bottom: 10px;
    }

    footer {
      background: var(--secondary-color);
      color: #fff;
      text-align: center;
      padding: 20px;
      margin-top: 40px;
      font-weight: 600;
    }

    @media (max-width: 768px) {
      .feature {
        max-width: 100%;
      }

      .hero h1 {
        font-size: 2rem;
      }

      .carousel img {
        width: 100%;
        height: auto;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>My Responsive Website</h1>
    <p>Optimized for mobile, tablet, and desktop</p>
  </header>

  <section class="hero">
    <h1>Welcome to the Future</h1>
    <p>Innovative design. Seamless experience.</p>
    <button class="cta-btn" onclick="showAndScroll('carousel')">Explore Carousel</button>
    <button class="cta-btn" onclick="showAndScroll('quiz')">Take the Quiz</button>
    <button class="cta-btn" onclick="showAndScroll('apiFetch')">Show Joke</button>
    <button class="cta-btn" onclick="showAndScroll('weatherFetch')">Check Weather</button>
  </section>

  <section class="features">
    <div class="feature">
      <h3>Fast Loading</h3>
      <p>Our site loads quickly on any device for an optimal user experience.</p>
    </div>
    <div class="feature">
      <h3>Mobile Friendly</h3>
      <p>Responsive design that looks great on phones and tablets.</p>
    </div>
    <div class="feature">
      <h3>Modern UI</h3>
      <p>Clean, fresh layouts and easy navigation.</p>
    </div>
  </section>

  <!-- Carousel Section -->
  <section id="carousel" class="carousel">
    <h2>Image Carousel</h2>
    <img id="carouselImage" src="mew.jpg" alt="Carousel Image" />
    <div>
      <button onclick="prevImage()">Prev</button>
      <button onclick="nextImage()">Next</button>
    </div>
  </section>

  <!-- Quiz Section -->
  <section id="quiz" class="quiz">
    <h2>Simple Quiz</h2>
    <div class="quiz-container" id="questionContainer"></div>
    <div style="text-align:center; margin-top: 15px;">
      <button onclick="submitQuiz()">Submit Answers</button>
      <p id="quizResult" style="margin-top:10px; font-weight:bold; font-size:1.2rem;"></p>
    </div>
  </section>

  <!-- API Fetch: Joke -->
  <section id="apiFetch" class="api-fetch">
    <h2>Random Joke</h2>
    <p id="jokeSetup">Loading joke...</p>
    <p id="jokePunchline"></p>
    <button onclick="fetchJoke()">Get Another Joke</button>
  </section>

  <!-- Weather Fetch -->
  <section id="weatherFetch" class="weather-fetch">
    <h2>Current Weather: Delhi, India</h2>
    <p class="weather-info" id="weatherDesc">Loading weather...</p>
    <p class="weather-info" id="weatherTemp"></p>
    <button onclick="fetchWeather()">Refresh Weather</button>
  </section>

  <footer>
    <p>&copy; 2025 My Responsive Website</p>
  </footer>

  <script>
    // Show section and scroll to it
    function showAndScroll(sectionId) {
      const sections = ['carousel', 'quiz', 'apiFetch', 'weatherFetch'];
      sections.forEach(id => {
        const el = document.getElementById(id);
        el.style.display = (id === sectionId) ? 'block' : 'none';
      });
      const section = document.getElementById(sectionId);
      section.scrollIntoView({ behavior: 'smooth' });

      // Trigger fetch functions when showing relevant sections
      if (sectionId === 'apiFetch') fetchJoke();
      if (sectionId === 'weatherFetch') fetchWeather();
    }

    // Carousel logic with your own images (replace with your real filenames)
    const images = [
      { src: "mew.jpg", alt: "Mew" },
      { src: "jafirst.jpg", alt: "Pug" },
      { src: "badbuddy.jpg", alt: "Pug2" },
      { src: "brightwin.jpg", alt: "Cute Animal" },
      { src: "HK.jpg", alt: "Smiling Animal" },
      { src: "maxtul1.jpg", alt: "Cat" }
    ];
    let currentImage = 0;

    function showImage(index) {
      currentImage = index;
      const img = document.getElementById('carouselImage');
      img.src = images[index].src;
      img.alt = images[index].alt;
      img.style.transform = 'scale(1.05)';
      setTimeout(() => img.style.transform = 'scale(1)', 300);
    }

    function nextImage() {
      currentImage = (currentImage + 1) % images.length;
      showImage(currentImage);
    }

    function prevImage() {
      currentImage = (currentImage - 1 + images.length) % images.length;
      showImage(currentImage);
    }

    // Quiz data
    const quizData = [
      {
        question: "What does HTML stand for?",
        options: ["Hyper Trainer Marking Language", "HyperText Markup Language", "HyperText Markdown Language"],
        answer: 1
      },
      {
        question: "Which language is used for styling web pages?",
        options: ["HTML", "jQuery", "CSS"],
        answer: 2
      },
      {
        question: "Which language is used for web apps?",
        options: ["PHP", "Python", "JavaScript"],
        answer: 2
      }
    ];

    const questionContainer = document.getElementById("questionContainer");

    // Populate quiz questions dynamically
    function loadQuiz() {
      questionContainer.innerHTML = '';
      quizData.forEach((q, index) => {
        const div = document.createElement('div');
        div.classList.add("question");
        div.innerHTML = `<h4>${index + 1}. ${q.question}</h4>
          ${q.options.map((opt, i) =>
            `<input type="radio" id="q${index}o${i}" name="q${index}" value="${i}">
             <label for="q${index}o${i}">${opt}</label>`
          ).join("")}`;
        questionContainer.appendChild(div);
      });
      document.getElementById("quizResult").textContent = '';
    }

    function submitQuiz() {
      let score = 0;
      quizData.forEach((q, index) => {
        const selected = document.querySelector(input[name="q${index}"]:checked);
        if (selected && parseInt(selected.value) === q.answer) {
          score++;
        }
      });
      document.getElementById("quizResult").textContent = You scored ${score} out of ${quizData.length}!;
    }

    // Fetch joke from API
    async function fetchJoke() {
      const setupElem = document.getElementById('jokeSetup');
      const punchlineElem = document.getElementById('jokePunchline');

      setupElem.textContent = 'Loading joke...';
      punchlineElem.textContent = '';

      try {
        const response = await fetch('https://official-joke-api.appspot.com/random_joke');
        if (!response.ok) throw new Error('Network response was not ok');
        const joke = await response.json();
        setupElem.textContent = joke.setup;
        punchlineElem.textContent = joke.punchline;
      } catch (error) {
        setupElem.textContent = 'Oops! Could not fetch a joke.';
        punchlineElem.textContent = '';
        console.error('Fetch error:', error);
      }
    }

    // Fetch weather from API (Delhi, India)
    async function fetchWeather() {
      const weatherDesc = document.getElementById('weatherDesc');
      const weatherTemp = document.getElementById('weatherTemp');

      weatherDesc.textContent = 'Loading weather...';
      weatherTemp.textContent = '';

      try {
        // Delhi coordinates: lat=28.6139, lon=77.2090
        const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=28.6139&longitude=77.2090&current_weather=true');
        if (!response.ok) throw new Error('Network response was not ok');
        const data = await response.json();
        const temp = data.current_weather.temperature;
        const windspeed = data.current_weather.windspeed;
        const weathercode = data.current_weather.weathercode;

        const weatherCodes = {
          0: "Clear sky",
          1: "Mainly clear",
          2: "Partly cloudy",
          3: "Overcast",
          45: "Fog",
          48: "Depositing rime fog",
          51: "Drizzle: Light",
          53: "Drizzle: Moderate",
          55: "Drizzle: Dense",
          61: "Rain: Slight",
          63: "Rain: Moderate",
          65: "Rain: Heavy",
          71: "Snow fall: Slight",
          73: "Snow fall: Moderate",
          75: "Snow fall: Heavy",
          80: "Rain showers: Slight",
          81: "Rain showers: Moderate",
          82: "Rain showers: Violent",
          95: "Thunderstorm",
          96: "Thunderstorm with slight hail",
          99: "Thunderstorm with heavy hail"
        };

        const desc = weatherCodes[weathercode] || "Unknown";

        weatherDesc.textContent = Conditions: ${desc};
        weatherTemp.textContent = Temperature: ${temp}°C, Wind Speed: ${windspeed} km/h;
      } catch (error) {
        weatherDesc.textContent = 'Could not fetch weather data.';
        weatherTemp.textContent = '';
        console.error('Fetch error:', error);
      }
    }

    // Load first image and quiz on DOM ready
    document.addEventListener('DOMContentLoaded', () => {
      showImage(0);
      loadQuiz();
    });
  </script>
</body>
</html>
